!function(){Object.create||(Object.create=function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create implementation only accepts one parameter.");return e.prototype=t,new e}}());var e,t={},n={},r=function(e,t){var n;if(t){for(n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.toString=t.toString,e.valueOf=t.valueOf,e.toLocaleString=t.toLocaleString}return e},i=function(e,t){var n;for(n in t)e[n]=t[n];return e},o=function(e,t){var n="Wrong parameters in "+e;throw t&&(n="Wrong parameter "+t+" in "+e),new Error(n,"Moa")},c=function(t,n,r){var i="Type ";if(t===e)throw r===!0&&(i="Mixin type "),new Error(i+n+" not found","Moa")},a=function(e,t){var r,i,o;for(r in t)i=t[r],o=n[i],c(o,i,!0),o.call(e),e[r]=new o;return e},u=function(t,n,i){var o,c,u=i.$single,f=i.$static,s=i.$mixin,l=i.$ctor,$=i.$di,d={};return l!==e?delete i.$ctor:l=function(){},delete i.$single,delete i.$static,delete i.$mixin,delete i.$extend,f!==e&&(c=f.$mixin,c!==e&&(delete f.$mixin,a(l,c)),r(l,f)),s!==e&&(i=r(a({},s),i)),n!==e&&(o=n.$type,i=r(Object.create(n.$ctor.prototype),i)),i.getType=function(){return t},r(d,i),l.prototype=i,l.prototype.constructor=l,u!==e&&u===!0&&!function(){var e=new l;l=function(){return e},l.getInstance=function(){return e}}(),d.$ctor=l,{$type:t,$basetype:o,$mixin:s,$di:$,$ctor:l,$base:d}},f=function(e,n,r){var o,c,a,u,s=!1;n=n||{},n.$current||(n.$current=e);for(o in n){switch(c=n[o],a=typeof c,o){case"$current":switch(a){case"string":c={type:c,instance:"item",lifestyle:"transient"};break;case"object":c.type=e,c.instance||(c.instance="item"),c.lifestyle||"ctor"===c.instance||(c.lifestyle="transient")}break;case"$ctor":c=f(e,c,o),delete c.$current;break;case"$proto":c=f(e,c,o),delete c.$current;break;case"$prop":c=f(e,c,o),delete c.$current;break;default:switch(s=!0,a){case"string":u=t[c],u&&("$proto"===r?(c=i({},u.$di.$current),c.lifestyle="singleton"):c=u.$di.$current);break;case"object":c.type&&("ctor"===c.instance?delete c.lifestyle:(c.instance||(c.instance="item"),c.lifestyle||(c.lifestyle="transient")))}}r||!s?n[o]=c:(s=!1,n.$prop||(n.$prop={}),n.$prop[o]=c,delete n[o])}return n},s={clear:function(){var e=function(e){var t;for(t in e)delete e[t]};e(t),e(n)},define:function(n,r){var i,a,s,l=arguments.length;switch(l){case 1:i=t[n],c(i,n);break;case 2:switch(typeof r){case"function":a=r().$extend,a!==e?(s=t[a],c(s,a),i=u(n,s,r(s.$base))):i=u(n,e,r(e));break;case"object":if(null===r)return delete t[n],e;a=r.$extend,a!==e&&(s=t[a],c(s,a)),i=u(n,s,r);break;default:o("define","definition")}t[n]=i,t[n].$di=f(n,i.$di);break;default:o("define")}return i.$ctor},resolve:function(e,n){var r,a=t[e],u=arguments.length,f=function(e,t,n){var r,i;for(r in t)i=t[r],e[r]="object"==typeof i?n(i,f):i;return e},s=function(e,t,n,r){var o,c,a;return r=r||{},c=e.$ctor,c&&(r=f(r,c,n)),c=e.$proto,c&&(c.resolved||(a=f({},c,n),i(t.$ctor.prototype,a),c.resolved=!0)),o=new t.$ctor(r),c=e.$prop,c&&(o=f(o,c,n)),o},l=function(n,i){var c,a=n.$current;if(a)c=t[a.type];else{if(a=n,c=t[a.type],!c)return n;n=c.$di}switch(a.instance){case"item":switch(a.lifestyle){case"transient":r=s(n,c,l,i);break;case"singleton":a.item||(a.item=s(n,c,l,i)),r=a.item;break;default:o("resolve",e+"::$di::$current::lifestyle")}break;case"ctor":r=c.$ctor;break;default:o("resolve",e+"::$di::$current::instance")}return r};return 1!==u&&2!==u&&o("resolve"),c(a,e),r=l(a.$di,n)},mixin:function(e,t){null!==t?("function"!=typeof t&&o("mixin","definition"),n[e]=t):delete n[e]},getRegistry:function(){var e=function(e){var t,n=[];for(t in e)n.push(t);return n};return{type:e(t),mixin:e(n)}},getTypeInfo:function(e){var n,i=t[e];return c(i,e),n=r({},i),delete n.$ctor,delete n.$base,delete n.$di,n.$di=JSON.parse(JSON.stringify(i.$di)),n}};"undefined"!=typeof define?define("Moa",[],function(){return s}):"undefined"!=typeof window?window.Moa=s:module.exports=s}();
//# sourceMappingURL=moa.min.js.map