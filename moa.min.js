!function(){Object.create||(Object.create=function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create implementation only accepts one parameter.");return e.prototype=t,new e}}());var e,t="function",n="object",r="undefined",i="string",o={},c={},a=function(e,t){var n;if(t){for(n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.toString=t.toString,e.valueOf=t.valueOf,e.toLocaleString=t.toLocaleString}return e},u=function(e,t){var n="Wrong parameters in "+e;throw t&&(n="Wrong parameter "+t+" in "+e),new Error(n,"Moa")},f=function(t,n,r){var i="Type ";if(t===e)throw r===!0&&(i="Mixin type "),new Error(i+n+" not found","Moa")},s=function(e,t){var n,r,i;for(n in t)r=t[n],i=c[r],f(i,r,!0),i.call(e),e[n]=new i;return e},l=function(t,n,r){var i,o,c=r.$single,u=r.$static,f=r.$mixin,l=r.$ctor,$=r.$di,d={};return l!==e?delete r.$ctor:l=function(){},delete r.$single,delete r.$static,delete r.$mixin,delete r.$extend,u!==e&&(o=u.$mixin,o!==e&&(delete u.$mixin,s(l,o)),a(l,u)),f!==e&&(r=a(s({},f),r)),n!==e&&(i=n.$type,r=a(Object.create(n.$ctor.prototype),r)),r.getType=function(){return t},a(d,r),l.prototype=r,l.prototype.constructor=l,c!==e&&c===!0&&!function(){var e=new l;l=function(){return e},l.getInstance=function(){return e}}(),d.$ctor=l,{$type:t,$basetype:i,$mixin:f,$di:$,$ctor:l,$base:d}},$=function(e,t){var r,c,a;t=t||{},t.$current||(t.$current=e);for(r in t){if("$ctor"===r)c=$(e,t[r]),delete c.$current;else switch(c=t[r],typeof c){case i:"$current"===r?c={type:c,instance:"item",lifestyle:"transient"}:(a=o[c],a&&(c=a.$di.$current));break;case n:"$current"===r&&(c.type=e),c.type&&("ctor"===c.instance?delete c.lifestyle:(c.instance||(c.instance="item"),c.lifestyle||(c.lifestyle="transient")))}t[r]=c}return t},d={clear:function(){var e=function(e){var t;for(t in e)delete e[t]};e(o),e(c)},define:function(r,i){var c,a,s,d=arguments.length;switch(d){case 1:c=o[r],f(c,r);break;case 2:switch(typeof i){case t:a=i().$extend,a!==e?(s=o[a],f(s,a),c=l(r,s,i(s.$base))):c=l(r,e,i(e));break;case n:if(null===i)return delete o[r],e;a=i.$extend,a!==e&&(s=o[a],f(s,a)),c=l(r,s,i);break;default:u("define","definition")}o[r]=c,o[r].$di=$(r,c.$di);break;default:u("define")}return c.$ctor},resolve:function(e,t){var n,r=o[e],i=arguments.length,c=function(e,t,n){var r;return t?(t=a(t,n),r=new e.$ctor(t)):r=new e.$ctor(n),r},s=function(t,r,i,o){var f,l,$,d,p,y=t.$current;if(y)f=i[y.type],d=t.$ctor,p=t;else{if(y=t,f=i[y.type],!f)return t;d=f.$di.$ctor,p=f.$di}switch(y.instance){case"item":switch(d&&(l=r(d,s,i)),$=r(p,s,i),y.lifestyle){case"transient":n=c(f,o,l);break;case"singleton":y.item||(y.item=c(f,o,l)),n=y.item;break;default:u("resolve",e+"::$di::$current::lifestyle")}break;case"ctor":n=f.$ctor;break;default:u("resolve",e+"::$di::$current::instance")}return $&&(n=a(n,$)),n},l=function(e,t,n){var r,i,o={};for(r in e)"$current"!==r&&"$ctor"!==r&&(i=e[r],o[r]="object"==typeof i?t(i,l,n):i);return o};return 1!==i&&2!==i&&u("resolve"),f(r,e),n=s(r.$di,l,o,t)},mixin:function(e,n){null!==n?(typeof n!==t&&u("mixin","definition"),c[e]=n):delete c[e]},getRegistry:function(){var e=function(e){var t,n=[];for(t in e)n.push(t);return n};return{type:e(o),mixin:e(c)}},getTypeInfo:function(e){var t,n=o[e];return f(n,e),t=a({},n),delete t.$ctor,delete t.$base,delete t.$di,t.$di=JSON.parse(JSON.stringify(n.$di)),t}};typeof define!==r?define("Moa",[],function(){return d}):typeof window!==r?window.Moa=d:module.exports=d}();
//# sourceMappingURL=moa.min.js.map